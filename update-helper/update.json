{
  "latest": "1.2.7",
  "minSupported": "1.0.0",
  "url": "https://github.com/BBahadirKAYA/Money-AppAndroid/releases/download/v1.2.7/com.moneyapp.android-v1.2.7-127-release.apk",
  "sha256": "fbef312a4616dc312255c6e143d148e26a0fd4909801da9f6baa973962dea08c",
  "changelog": "# MoneyAppAndroid â€” BugÃ¼nkÃ¼ DeÄŸiÅŸiklikler ve YayÄ±n NotlarÄ± (2025-10-08)

## ğŸ¯ Ã–zet
- **Otomatik sÃ¼rÃ¼mleme:**  
  `versionCode = <versionNameSayÄ±sal> * 100_000 + yyMMddHH` (TZ: *Europe/Istanbul*).
- **`BuildConfig.BASE_URL`:**  
  `-P BASE_URL=` ile dÄ±ÅŸarÄ±dan verilebilir; verilmezse `http://10.0.2.2:8000/`.
- **APK isimlendirme (post-build):**  
  Derleme sonrasÄ± APK kopyalanÄ±p ÅŸu formatta adlandÄ±rÄ±lÄ±r:  
  `moneyapp-<versionName>-<versionCode>-<yyMMddHH>-<variant>.apk`
- **Google Sheets entegrasyonu:**  
  Derleme sonrasÄ± sÃ¼rÃ¼m bilgisi Apps Script webhookâ€™una JSON olarak yazÄ±lÄ±yor.
- **Tema/Manifest temizliÄŸi:**  
  Tek tema kullanÄ±mÄ±: `Theme.MoneyApp` â†’ `Theme.Material3.DayNight.NoActionBar`.  
  Debug/Main manifest Ã§akÄ±ÅŸmasÄ± giderildi.
- **BaÄŸÄ±mlÄ±lÄ±klar eklendi/gÃ¼ncellendi:** Material, Retrofit, OkHttp, Moshi, Room, Lifecycle, Coroutines.
- **Dizin dÃ¼zeltmesi:**  
  APK yolu modÃ¼lÃ¼n `buildDir` Ã¼zerinden Ã§Ã¶zÃ¼mleniyor (Ã¶nceki `app/app/...` hatasÄ± giderildi).

---

## ğŸ”¢ SÃ¼rÃ¼mleme MantÄ±ÄŸÄ±
```kotlin
val vn = \"1.3.7\" // tek kaynak
versionName = vn
val base  = vn.replace(\".\", \"\").toInt()
val stamp = LocalDateTime.now(ZoneId.of(\"Europe/Istanbul\"))
              .format(DateTimeFormatter.ofPattern(\"yyMMddHH\")).toInt()
versionCode = base * 100_000 + stamp
```

## ğŸ§± `BuildConfig.BASE_URL`
- Komut satÄ±rÄ±ndan:
  ```bash
  ./gradlew :app:assembleDebug -P BASE_URL=https://api.example.com/
  ```
- Verilmezse varsayÄ±lan: `http://10.0.2.2:8000/`.

---

## ğŸ§° Gradle GÃ¶revleri

### Derleme
```bash
# Debug / Release
./gradlew :app:assembleDebug
./gradlew :app:assembleRelease
```

### APKâ€™Ä± sÃ¼rÃ¼m + tarih damgasÄ±yla yeniden adlandÄ±r
```bash
./gradlew :app:renameDebugApk
./gradlew :app:renameReleaseApk
```
> Ã‡Ä±ktÄ±: `app/build/outputs/apk/<variant>/moneyapp-<vn>-<vc>-<ts>-<variant>.apk`

### Sheetsâ€™e yazma (webhook)
- GÃ¶rev: `postVersionToSheet`
- JSON alanlarÄ±: `versionCode`, `versionName`, `apkUrl` (`asset_url` eÅŸdeÄŸeri).

Gerekli gizli deÄŸerler (kullanÄ±cÄ± makinesinde):
```
~/.gradle/gradle.properties
--------------------------------
SHEET_WEBHOOK_URL=https://script.google.com/macros/s/â€¦/exec
APK_PUBLISH_URL=https://â€¦/releases/download/â€¦/moneyapp-â€¦.apk
```

### Zincirli akÄ±ÅŸlar (kolay kullanÄ±m)
```bash
# assembleDebug â†’ renameDebugApk â†’ postVersionToSheet
./gradlew :app:buildDebugAndPost

# assembleRelease â†’ renameReleaseApk â†’ postVersionToSheet
./gradlew :app:publishReleaseApk
```

---

## ğŸ¨ Tema & Manifest
- Tema dosyasÄ± (`app/src/main/res/values/themes.xml`):
  ```xml
  <resources>
      <style name=\"Theme.MoneyApp\" parent=\"Theme.Material3.DayNight.NoActionBar\"/>
  </resources>
  ```
- Manifest (tek tema, mainâ€™de tanÄ±mlÄ±):
  ```xml
  <application
      android:name=\".MoneyApp\"
      android:theme=\"@style/Theme.MoneyApp\"
      android:usesCleartextTraffic=\"true\"
      android:networkSecurityConfig=\"@xml/network_security_config\" />
  ```

---

## ğŸ“¦ BaÄŸÄ±mlÄ±lÄ±k Seti (baÅŸlÄ±ca)
- Material `1.12.0`
- Retrofit `2.11.0` (+ `converter-scalars`, `converter-moshi`)
- OkHttp `4.12.0` (+ `logging-interceptor`)
- Moshi `1.15.1` (+ `moshi-kotlin`)
- Room `2.6.1` (+ `ksp room-compiler`)
- Lifecycle `2.8.6` (`runtime-ktx`, `viewmodel-ktx`)
- Coroutines `1.8.1`

---

## âš ï¸ Derleme NotlarÄ±
- `compileSdk = 36` uyarÄ±sÄ± iÃ§in geÃ§ici Ã§Ã¶zÃ¼m:
  ```
  android.suppressUnsupportedCompileSdk=36
  ```
  (veya `compileSdk = 35`.)

---

## ğŸ—‘ï¸ `.gitignore` Ã–nerisi (Ã¶zet)
```gitignore
.gradle/"
}
